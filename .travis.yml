if: tag IS blank
branches:
  only:
    - master
    - develop

language: python
python:
  - "3.9"

cache:
  directories:
    - node_modules

install:
  - curl -fsSL https://deb.nodesource.com/setup_current.x | sudo -E bash -
  - sudo apt-get install -y nodejs
  - npm install npm@latest -g
  - node -v
  - npm -v
  - npm ci

script:
  - echo "No tests ran"

before_deploy:
  - curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
  - unzip awscliv2.zip
  - sudo ./aws/install
  - node -v
  - npm -v

deploy:
  - provider: script
    script: ./.travis/deploy
    skip_cleanup: true
    on:
      branch:
        - master
        - develop
